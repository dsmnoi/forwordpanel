(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d423526"],{4731:function(t,e,r){"use strict";r.d(e,"e",(function(){return n})),r.d(e,"f",(function(){return o})),r.d(e,"d",(function(){return i})),r.d(e,"h",(function(){return s})),r.d(e,"a",(function(){return l})),r.d(e,"b",(function(){return d}));var a=r("b775");function n(t){return Object(a["a"])({url:"/port/getPage",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/port/getPortList",method:"post",data:t})}function i(t){return Object(a["a"])({url:"/port/delete",method:"get",params:t})}function s(t){return Object(a["a"])({url:"/port/save",method:"post",data:t})}function l(t){return Object(a["a"])({url:"/port/batchDelete",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/port/batchSave",method:"post",data:t})}},4942:function(t,e,r){"use strict";var a=r("ced1"),n=r.n(a);n.a},aa22:function(t,e,r){"use strict";r.d(e,"e",(function(){return n})),r.d(e,"d",(function(){return o})),r.d(e,"c",(function(){return i})),r.d(e,"b",(function(){return s})),r.d(e,"a",(function(){return l})),r.d(e,"f",(function(){return d}));var a=r("b775");function n(t){return Object(a["a"])({url:"/server/getPage",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/server/getList",method:"get",data:t})}function i(t){return Object(a["a"])({url:"/server/getForwardServerList",method:"get",params:t})}function s(t){return Object(a["a"])({url:"/server/delete",method:"get",params:t})}function l(t){return Object(a["a"])({url:"/server/check",method:"get",params:t})}function d(t){return Object(a["a"])({url:"/server/save",method:"post",data:t})}},b2dd:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container"},[r("div",{staticClass:"searchBody"},[r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.searchForm},nativeOn:{submit:function(t){t.preventDefault()}}},[r("el-form-item",[r("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-plus"},on:{click:t.showAddDialog}},[t._v("添加端口")])],1)],1)],1),r("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.tableData,"row-key":"id",border:"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[r("el-table-column",{attrs:{label:"行号",type:"index",width:"50"}}),r("el-table-column",{attrs:{label:"本地端口",prop:"localPort"}}),r("el-table-column",{attrs:{label:"外网端口",prop:"internetPort"}}),r("el-table-column",{attrs:{label:"所属服务器",prop:"serverName"}}),r("el-table-column",{attrs:{label:"服务器IP",prop:"serverHost"}}),r("el-table-column",{attrs:{label:"创建时间",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t._f("parseTime")(e.row.createTime,"{y}-{m}-{d} {h}:{i}:{s}")))])]}}])}),r("el-table-column",{attrs:{label:"修改时间",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t._f("parseTime")(e.row.updateTime,"{y}-{m}-{d} {h}:{i}:{s}")))])]}}])}),r("el-table-column",{attrs:{label:"操作",fixed:"right",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"primary",size:"mini",title:"编辑"},on:{click:function(r){return t.showEditDialog(e.row)}}},[t._v("编辑")]),r("el-button",{attrs:{type:"primary",size:"mini",title:"复制"},on:{click:function(r){return t.copyRow(e.row)}}},[t._v("复制")]),r("el-button",{attrs:{type:"danger",size:"mini",title:"删除"},on:{click:function(r){return t.deleteData(e.row)}}},[t._v("删除")])]}}])})],1),r("div",{staticClass:"block"},[r("el-pagination",{attrs:{background:"","page-sizes":[10,20,50],"page-size":t.searchForm.pageSize,"current-page":t.searchForm.pageNum,layout:"total, sizes, prev, pager, next, jumper",total:t.dataTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),r("el-dialog",{attrs:{title:"添加端口",visible:t.addDialog,width:"30%"},on:{"update:visible":function(e){t.addDialog=e}}},[r("el-form",{ref:"addForm",attrs:{model:t.addForm,rules:t.addFormRules,"label-width":"120px",size:"small"}},[r("el-form-item",{attrs:{label:"所属服务器",prop:"serverId"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini",clearable:""},model:{value:t.addForm.serverId,callback:function(e){t.$set(t.addForm,"serverId",e)},expression:"addForm.serverId"}},t._l(t.serverList,(function(t,e){return r("el-option",{key:t+e,attrs:{label:t.serverName,value:t.id}})})),1)],1),r("el-form-item",{attrs:{label:"本地端口",prop:"localPort",rules:[{required:!0,message:"端口不能为空"},{type:"number",message:"端口必须为数字值"}]}},[r("el-input",{attrs:{size:"mini"},model:{value:t.addForm.localPort,callback:function(e){t.$set(t.addForm,"localPort",t._n(e))},expression:"addForm.localPort"}})],1),r("el-form-item",{attrs:{label:"外网端口",prop:"internetPort",rules:[{required:!0,message:"端口不能为空"},{type:"number",message:"端口必须为数字值"}]}},[r("el-input",{attrs:{size:"mini"},model:{value:t.addForm.internetPort,callback:function(e){t.$set(t.addForm,"internetPort",t._n(e))},expression:"addForm.internetPort"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.addDialog=!1}}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:t.confirmAddForm}},[t._v("确 定")])],1)],1)],1)},n=[],o=r("4731"),i=r("aa22"),s={data:function(){return{tableData:[],dataTotal:null,serverList:[],searchForm:{pageSize:10,pageNum:1},addForm:{id:null,username:null,addType:"add",password:null},addFormRules:{serverId:[{required:!0,trigger:"blur",message:"必需项"}],localPort:[{required:!0,trigger:"blur",message:"必需项"}],internetPort:[{required:!0,trigger:"blur",message:"必需项"}]},addDialog:!1}},mounted:function(){this.initServerList(),this.getData()},methods:{getData:function(){var t=this;Object(o["e"])(this.searchForm).then((function(e){t.tableData=e.data.list,t.dataTotal=e.data.total}))},deleteData:function(t){var e=this;this.$confirm("确认删除?",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["deleteData"])({id:t.id}).then((function(t){e.$notify({message:"删除成功",type:"success"}),e.getData()}))}))},confirmAddForm:function(){var t=this;this.$refs["addForm"].validate((function(e){e&&Object(o["save"])(t.addForm).then((function(e){t.$notify({message:"保存成功",type:"success"}),t.addDialog=!1,t.getData()}))}))},handleSizeChange:function(t){this.searchForm.pageSize=t,this.getData()},handleCurrentChange:function(t){this.searchForm.pageNum=t,this.getData()},initServerList:function(){var t=this;Object(i["d"])().then((function(e){t.serverList=e.data}))},showAddDialog:function(){this.addDialog=!0,this.addForm.addType="add",this.addForm.id=null},showEditDialog:function(t){this.addDialog=!0,this.addForm=t,this.addForm.addType="edit"},copyRow:function(t){this.addDialog=!0,this.addForm=t,this.addForm.id=null,this.addForm.addType="add"}}},l=s,d=(r("4942"),r("2877")),u=Object(d["a"])(l,a,n,!1,null,"dac09a84",null);e["default"]=u.exports},ced1:function(t,e,r){}}]);